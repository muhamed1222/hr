{"date":"Fri Jun 20 2025 22:45:38 GMT+0300 (Moscow Standard Time)","error":{},"level":"error","message":"unhandledRejection: error is not a function\nTypeError: error is not a function\n    at authenticateToken (/Users/outcasts/Documents/hr/src/middleware/auth.js:78:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","os":{"loadavg":[2.646484375,4.22802734375,4.79443359375],"uptime":2669288},"process":{"argv":["/usr/local/bin/node","/Users/outcasts/Documents/hr/src/app.js"],"cwd":"/Users/outcasts/Documents/hr","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":703608,"external":4237890,"heapTotal":46415872,"heapUsed":42654256,"rss":35504128},"pid":72500,"uid":501,"version":"v22.16.0"},"rejection":true,"stack":"TypeError: error is not a function\n    at authenticateToken (/Users/outcasts/Documents/hr/src/middleware/auth.js:78:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-20T19:45:38.664Z","trace":[{"column":5,"file":"/Users/outcasts/Documents/hr/src/middleware/auth.js","function":"authenticateToken","line":78,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":105,"method":"processTicksAndRejections","native":false}]}
{"date":"Fri Jun 20 2025 22:54:13 GMT+0300 (Moscow Standard Time)","error":{"name":"SequelizeDatabaseError","original":{"code":"SQLITE_ERROR","errno":1,"sql":"SELECT `id`, `telegram_id` AS `telegramId`, `name`, `username`, `email`, `password_hash` AS `passwordHash`, `role`, `status`, `created_at` AS `createdAt`, `updated_at` AS `updatedAt`, `vacation_days` AS `vacationDays`, `temporary_password` AS `temporaryPassword`, `telegram_temp_id` AS `telegramTempId`, `telegram_username` AS `telegramUsername`, `telegram_first_name` AS `telegramFirstName`, `telegram_last_name` AS `telegramLastName`, `created_via_telegram` AS `createdViaTelegram`, `last_login` AS `lastLogin`, `settings` FROM `users` AS `User`;"},"parameters":{},"parent":{"code":"SQLITE_ERROR","errno":1,"sql":"SELECT `id`, `telegram_id` AS `telegramId`, `name`, `username`, `email`, `password_hash` AS `passwordHash`, `role`, `status`, `created_at` AS `createdAt`, `updated_at` AS `updatedAt`, `vacation_days` AS `vacationDays`, `temporary_password` AS `temporaryPassword`, `telegram_temp_id` AS `telegramTempId`, `telegram_username` AS `telegramUsername`, `telegram_first_name` AS `telegramFirstName`, `telegram_last_name` AS `telegramLastName`, `created_via_telegram` AS `createdViaTelegram`, `last_login` AS `lastLogin`, `settings` FROM `users` AS `User`;"},"sql":"SELECT `id`, `telegram_id` AS `telegramId`, `name`, `username`, `email`, `password_hash` AS `passwordHash`, `role`, `status`, `created_at` AS `createdAt`, `updated_at` AS `updatedAt`, `vacation_days` AS `vacationDays`, `temporary_password` AS `temporaryPassword`, `telegram_temp_id` AS `telegramTempId`, `telegram_username` AS `telegramUsername`, `telegram_first_name` AS `telegramFirstName`, `telegram_last_name` AS `telegramLastName`, `created_via_telegram` AS `createdViaTelegram`, `last_login` AS `lastLogin`, `settings` FROM `users` AS `User`;"},"level":"error","message":"unhandledRejection: SQLITE_ERROR: no such column: email\nError\n    at Database.<anonymous> (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js:185:27)\n    at /Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js:183:50\n    at new Promise (<anonymous>)\n    at Query.run (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js:183:12)\n    at /Users/outcasts/Documents/hr/node_modules/sequelize/lib/sequelize.js:315:28\n    at async SQLiteQueryInterface.select (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async User.findAll (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/model.js:1140:21)","os":{"loadavg":[3.95654296875,5.32421875,5.42578125],"uptime":2669803},"process":{"argv":["/usr/local/bin/node"],"cwd":"/Users/outcasts/Documents/hr","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18931,"external":1997204,"heapTotal":31260672,"heapUsed":20527616,"rss":70369280},"pid":73301,"uid":501,"version":"v22.16.0"},"rejection":true,"stack":"Error\n    at Database.<anonymous> (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js:185:27)\n    at /Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js:183:50\n    at new Promise (<anonymous>)\n    at Query.run (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js:183:12)\n    at /Users/outcasts/Documents/hr/node_modules/sequelize/lib/sequelize.js:315:28\n    at async SQLiteQueryInterface.select (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async User.findAll (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/model.js:1140:21)","timestamp":"2025-06-20T19:54:13.252Z","trace":[{"column":27,"file":"/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js","function":null,"line":185,"method":null,"native":false},{"column":50,"file":"/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js","function":null,"line":183,"method":null,"native":false},{"column":null,"file":null,"function":"new Promise","line":null,"method":null,"native":false},{"column":12,"file":"/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js","function":"Query.run","line":183,"method":"run","native":false},{"column":28,"file":"/Users/outcasts/Documents/hr/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":12,"file":"/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async SQLiteQueryInterface.select","line":407,"method":"select","native":false},{"column":21,"file":"/Users/outcasts/Documents/hr/node_modules/sequelize/lib/model.js","function":"async User.findAll","line":1140,"method":"findAll","native":false}]}
{"date":"Fri Jun 20 2025 22:54:55 GMT+0300 (Moscow Standard Time)","error":{"name":"SequelizeDatabaseError","original":{"code":"SQLITE_ERROR","errno":1,"sql":"SELECT `id`, `telegram_id` AS `telegramId`, `name`, `username`, `email`, `password_hash` AS `passwordHash`, `role`, `status`, `created_at` AS `createdAt`, `updated_at` AS `updatedAt`, `vacation_days` AS `vacationDays`, `temporary_password` AS `temporaryPassword`, `telegram_temp_id` AS `telegramTempId`, `telegram_username` AS `telegramUsername`, `telegram_first_name` AS `telegramFirstName`, `telegram_last_name` AS `telegramLastName`, `created_via_telegram` AS `createdViaTelegram`, `last_login` AS `lastLogin`, `settings` FROM `users` AS `User`;"},"parameters":{},"parent":{"code":"SQLITE_ERROR","errno":1,"sql":"SELECT `id`, `telegram_id` AS `telegramId`, `name`, `username`, `email`, `password_hash` AS `passwordHash`, `role`, `status`, `created_at` AS `createdAt`, `updated_at` AS `updatedAt`, `vacation_days` AS `vacationDays`, `temporary_password` AS `temporaryPassword`, `telegram_temp_id` AS `telegramTempId`, `telegram_username` AS `telegramUsername`, `telegram_first_name` AS `telegramFirstName`, `telegram_last_name` AS `telegramLastName`, `created_via_telegram` AS `createdViaTelegram`, `last_login` AS `lastLogin`, `settings` FROM `users` AS `User`;"},"sql":"SELECT `id`, `telegram_id` AS `telegramId`, `name`, `username`, `email`, `password_hash` AS `passwordHash`, `role`, `status`, `created_at` AS `createdAt`, `updated_at` AS `updatedAt`, `vacation_days` AS `vacationDays`, `temporary_password` AS `temporaryPassword`, `telegram_temp_id` AS `telegramTempId`, `telegram_username` AS `telegramUsername`, `telegram_first_name` AS `telegramFirstName`, `telegram_last_name` AS `telegramLastName`, `created_via_telegram` AS `createdViaTelegram`, `last_login` AS `lastLogin`, `settings` FROM `users` AS `User`;"},"level":"error","message":"unhandledRejection: SQLITE_ERROR: no such column: settings\nError\n    at Database.<anonymous> (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js:185:27)\n    at /Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js:183:50\n    at new Promise (<anonymous>)\n    at Query.run (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js:183:12)\n    at /Users/outcasts/Documents/hr/node_modules/sequelize/lib/sequelize.js:315:28\n    at async SQLiteQueryInterface.select (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async User.findAll (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/model.js:1140:21)","os":{"loadavg":[4.72412109375,5.35791015625,5.4326171875],"uptime":2669845},"process":{"argv":["/usr/local/bin/node"],"cwd":"/Users/outcasts/Documents/hr","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18931,"external":1997204,"heapTotal":31260672,"heapUsed":20494488,"rss":75939840},"pid":73414,"uid":501,"version":"v22.16.0"},"rejection":true,"stack":"Error\n    at Database.<anonymous> (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js:185:27)\n    at /Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js:183:50\n    at new Promise (<anonymous>)\n    at Query.run (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js:183:12)\n    at /Users/outcasts/Documents/hr/node_modules/sequelize/lib/sequelize.js:315:28\n    at async SQLiteQueryInterface.select (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async User.findAll (/Users/outcasts/Documents/hr/node_modules/sequelize/lib/model.js:1140:21)","timestamp":"2025-06-20T19:54:55.134Z","trace":[{"column":27,"file":"/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js","function":null,"line":185,"method":null,"native":false},{"column":50,"file":"/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js","function":null,"line":183,"method":null,"native":false},{"column":null,"file":null,"function":"new Promise","line":null,"method":null,"native":false},{"column":12,"file":"/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/sqlite/query.js","function":"Query.run","line":183,"method":"run","native":false},{"column":28,"file":"/Users/outcasts/Documents/hr/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":12,"file":"/Users/outcasts/Documents/hr/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async SQLiteQueryInterface.select","line":407,"method":"select","native":false},{"column":21,"file":"/Users/outcasts/Documents/hr/node_modules/sequelize/lib/model.js","function":"async User.findAll","line":1140,"method":"findAll","native":false}]}
{"date":"Fri Jun 20 2025 23:08:59 GMT+0300 (Moscow Standard Time)","error":{},"level":"error","message":"unhandledRejection: error is not a function\nTypeError: error is not a function\n    at /Users/outcasts/Documents/hr/src/routes/workLogs.js:181:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","os":{"loadavg":[3.9150390625,3.869140625,4.23876953125],"uptime":2670689},"process":{"argv":["/usr/local/bin/node","/Users/outcasts/Documents/hr/src/app.js"],"cwd":"/Users/outcasts/Documents/hr","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":707776,"external":4242107,"heapTotal":47464448,"heapUsed":43922952,"rss":55820288},"pid":73988,"uid":501,"version":"v22.16.0"},"rejection":true,"stack":"TypeError: error is not a function\n    at /Users/outcasts/Documents/hr/src/routes/workLogs.js:181:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-20T20:08:59.604Z","trace":[{"column":5,"file":"/Users/outcasts/Documents/hr/src/routes/workLogs.js","function":null,"line":181,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":105,"method":"processTicksAndRejections","native":false}]}
{"date":"Fri Jun 20 2025 23:13:32 GMT+0300 (Moscow Standard Time)","error":{},"level":"error","message":"unhandledRejection: error is not a function\nTypeError: error is not a function\n    at /Users/outcasts/Documents/hr/src/routes/workLogs.js:181:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","os":{"loadavg":[2.81005859375,3.5849609375,4.06591796875],"uptime":2670962},"process":{"argv":["/usr/local/bin/node","/Users/outcasts/Documents/hr/src/app.js"],"cwd":"/Users/outcasts/Documents/hr","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":703608,"external":4237890,"heapTotal":46678016,"heapUsed":41922568,"rss":62324736},"pid":74168,"uid":501,"version":"v22.16.0"},"rejection":true,"stack":"TypeError: error is not a function\n    at /Users/outcasts/Documents/hr/src/routes/workLogs.js:181:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-20T20:13:32.455Z","trace":[{"column":5,"file":"/Users/outcasts/Documents/hr/src/routes/workLogs.js","function":null,"line":181,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":105,"method":"processTicksAndRejections","native":false}]}
{"date":"Fri Jun 20 2025 23:14:28 GMT+0300 (Moscow Standard Time)","error":{},"level":"error","message":"unhandledRejection: error is not a function\nTypeError: error is not a function\n    at authenticateToken (/Users/outcasts/Documents/hr/src/middleware/auth.js:78:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","os":{"loadavg":[2.97265625,3.47509765625,3.99169921875],"uptime":2671018},"process":{"argv":["/usr/local/bin/node","/Users/outcasts/Documents/hr/src/app.js"],"cwd":"/Users/outcasts/Documents/hr","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":703584,"external":4245864,"heapTotal":84164608,"heapUsed":43587168,"rss":64143360},"pid":74253,"uid":501,"version":"v22.16.0"},"rejection":true,"stack":"TypeError: error is not a function\n    at authenticateToken (/Users/outcasts/Documents/hr/src/middleware/auth.js:78:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-20T20:14:28.064Z","trace":[{"column":5,"file":"/Users/outcasts/Documents/hr/src/middleware/auth.js","function":"authenticateToken","line":78,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":105,"method":"processTicksAndRejections","native":false}]}
{"date":"Fri Jun 20 2025 23:19:48 GMT+0300 (Moscow Standard Time)","error":{},"level":"error","message":"unhandledRejection: error is not a function\nTypeError: error is not a function\n    at authenticateToken (/Users/outcasts/Documents/hr/src/middleware/auth.js:78:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","os":{"loadavg":[3.5810546875,3.10009765625,3.6328125],"uptime":2671338},"process":{"argv":["/usr/local/bin/node","/Users/outcasts/Documents/hr/src/app.js"],"cwd":"/Users/outcasts/Documents/hr","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":711622,"external":4245904,"heapTotal":55017472,"heapUsed":52638528,"rss":57442304},"pid":74650,"uid":501,"version":"v22.16.0"},"rejection":true,"stack":"TypeError: error is not a function\n    at authenticateToken (/Users/outcasts/Documents/hr/src/middleware/auth.js:78:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-20T20:19:48.595Z","trace":[{"column":5,"file":"/Users/outcasts/Documents/hr/src/middleware/auth.js","function":"authenticateToken","line":78,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":105,"method":"processTicksAndRejections","native":false}]}
