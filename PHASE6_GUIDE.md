# üß© **–§–ê–ó–ê 6: –£–ü–†–ê–í–õ–ï–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø–ú–ò, –ö–û–ú–ê–ù–î–ê–ú–ò –ò –†–û–õ–Ø–ú–ò**

## üìã **–û–ë–ó–û–† –°–ò–°–¢–ï–ú–´**

–§–∞–∑–∞ 6 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º —Å —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Ä–æ–ª–µ–π, –∫–æ–º–∞–Ω–¥–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏ –ø–æ–ª–Ω—ã–º –∞—É–¥–∏—Ç–æ–º –¥–µ–π—Å—Ç–≤–∏–π.

### üéØ **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** - CRUD, —Ä–æ–ª–∏, —Å—Ç–∞—Ç—É—Å—ã
- **–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- **–°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π** - employee/manager/admin —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
- **–ê—É–¥–∏—Ç –ª–æ–≥** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- **Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è

---

## üîê **–°–ò–°–¢–ï–ú–ê –†–û–õ–ï–ô –ò –î–û–°–¢–£–ü–û–í**

### üë§ **employee (–°–æ—Ç—Ä—É–¥–Ω–∏–∫)**
- ‚úÖ –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –¥–∞–Ω–Ω—ã–º
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ)
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö —Ä–∞–±–æ—á–∏—Ö –ª–æ–≥–æ–≤
- ‚ùå –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ
- ‚ùå –ü—Ä–æ—Å–º–æ—Ç—Ä –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üë®‚Äçüíº **manager (–ú–µ–Ω–µ–¥–∂–µ—Ä)**
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∫–æ–º–∞–Ω–¥
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤ –ø–æ –∫–æ–º–∞–Ω–¥–µ
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∞—É–¥–∏—Ç –ª–æ–≥–æ–≤ —Å–≤–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚ùå –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥

### üîß **admin (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)**
- ‚úÖ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã–º
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (CRUD)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–∞–º–∏
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∞—É–¥–∏—Ç –ª–æ–≥–æ–≤
- ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üèóÔ∏è **–ê–†–•–ò–¢–ï–ö–¢–£–†–ê BACKEND**

### üìä **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö**

#### `Team` - –ö–æ–º–∞–Ω–¥—ã
```sql
CREATE TABLE teams (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name VARCHAR(255) NOT NULL UNIQUE,
  description TEXT,
  manager_id INTEGER,
  status TEXT CHECK (status IN ('active', 'inactive')) DEFAULT 'active',
  settings JSON DEFAULT '{"reminders_enabled": true, "work_hours": {"start": "09:00", "end": "18:00", "lunch_duration": 60}, "timezone": "Europe/Moscow"}',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (manager_id) REFERENCES users(id)
);
```

#### `UserTeam` - –°–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∫–æ–º–∞–Ω–¥
```sql
CREATE TABLE user_teams (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  team_id INTEGER NOT NULL,
  role TEXT CHECK (role IN ('member', 'lead', 'manager')) DEFAULT 'member',
  joined_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  left_at DATETIME,
  status TEXT CHECK (status IN ('active', 'inactive')) DEFAULT 'active',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (team_id) REFERENCES teams(id),
  UNIQUE(user_id, team_id)
);
```

#### `AuditLog` - –õ–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π
```sql
CREATE TABLE audit_logs (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER,
  admin_id INTEGER,
  action VARCHAR(100) NOT NULL,
  resource VARCHAR(50) NOT NULL,
  resource_id VARCHAR(50),
  description TEXT,
  old_values JSON,
  new_values JSON,
  ip_address VARCHAR(45),
  user_agent TEXT,
  metadata JSON DEFAULT '{}',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (admin_id) REFERENCES users(id)
);
```

### üõ°Ô∏è **Middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**

#### `authenticateToken` - –ü—Ä–æ–≤–µ—Ä–∫–∞ JWT
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞
- –ó–∞–≥—Ä—É–∑–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

#### `requireRole(['admin', 'manager'])` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π
- –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –ø–æ —Ä–æ–ª—è–º
- –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

#### `requireTeamAccess` - –î–æ—Å—Ç—É–ø –∫ –∫–æ–º–∞–Ω–¥–∞–º
- –ê–¥–º–∏–Ω—ã: –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º
- –ú–µ–Ω–µ–¥–∂–µ—Ä—ã: —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –∫–æ–º–∞–Ω–¥–∞–º
- –£—á–∞—Å—Ç–Ω–∏–∫–∏: —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –∫–æ–º–∞–Ω–¥–∞–º

#### `logRequestInfo` - IP –∏ User-Agent
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üîå **API ENDPOINTS**

### üë• **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** (`/api/users-management`)

#### `GET /` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–ü—Ä–∞–≤–∞:** admin, manager
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `search` - –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏/username
- `role` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ä–æ–ª–∏
- `status` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
- `teamId` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–æ–º–∞–Ω–¥–µ
- `page`, `limit` - –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- `sortBy`, `sortOrder` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
      "username": "ivan.petrov",
      "role": "employee",
      "status": "active",
      "telegramId": "123456789",
      "teams": [...]
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 50,
    "pages": 3
  }
}
```

#### `POST /` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**–ü—Ä–∞–≤–∞:** admin
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "–ù–æ–≤—ã–π –°–æ—Ç—Ä—É–¥–Ω–∏–∫",
  "username": "new.employee",
  "role": "employee",
  "teams": [1, 2],
  "sendInvite": true
}
```

#### `PATCH /:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**–ü—Ä–∞–≤–∞:** admin, self
**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–µ–±—è
- –ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å —Ä–æ–ª–∏ –∏ —Å—Ç–∞—Ç—É—Å—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

#### `DELETE /:id` - –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**–ü—Ä–∞–≤–∞:** admin
- –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (status = 'inactive')
- –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –≤–æ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥–∞—Ö
- –ù–µ–ª—å–∑—è –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º–æ–≥–æ —Å–µ–±—è

#### `POST /:id/reset-telegram` - –°–±—Ä–æ—Å Telegram
**–ü—Ä–∞–≤–∞:** admin
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ ID
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

#### `POST /:id/reset-password` - –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
**–ü—Ä–∞–≤–∞:** admin
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
- –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

#### `GET /stats/overview` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–ü—Ä–∞–≤–∞:** admin, manager
```json
{
  "success": true,
  "data": {
    "total": 25,
    "active": 23,
    "inactive": 2,
    "withTelegram": 20,
    "byRole": {
      "admin": 2,
      "manager": 3,
      "employee": 20
    }
  }
}
```

### üè¢ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–∞–º–∏** (`/api/teams`)

#### `GET /` - –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
**–ü—Ä–∞–≤–∞:** admin, manager
**–§–∏–ª—å—Ç—Ä—ã:** search, status, managerId
**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –∫–æ–º–∞–Ω–¥—ã —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π

#### `POST /` - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
**–ü—Ä–∞–≤–∞:** admin
```json
{
  "name": "–ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã",
  "managerId": 2,
  "members": [
    {"userId": 3, "role": "member"},
    {"userId": 4, "role": "lead"}
  ]
}
```

#### `GET /:id/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã
**–ü—Ä–∞–≤–∞:** admin, manager (—Å–≤–æ–∏—Ö –∫–æ–º–∞–Ω–¥)
- –†–∞–±–æ—á–∏–µ –¥–Ω–∏, —á–∞—Å—ã
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã

#### `POST /:id/members` - –î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
#### `DELETE /:id/members/:userId` - –£–¥–∞–ª–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
#### `PATCH /:id/members/:userId` - –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å

### üìã **–ê—É–¥–∏—Ç –ª–æ–≥–∏** (`/api/audit-logs`)

#### `GET /` - –°–ø–∏—Å–æ–∫ –ª–æ–≥–æ–≤
**–ü—Ä–∞–≤–∞:** admin, manager
**–§–∏–ª—å—Ç—Ä—ã:**
- `adminId` - –ø–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- `userId` - –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- `resource` - –ø–æ —Ä–µ—Å—É—Ä—Å—É (users, teams, etc.)
- `action` - –ø–æ –¥–µ–π—Å—Ç–≤–∏—é
- `startDate`, `endDate` - –ø–æ –¥–∞—Ç–∞–º

#### `GET /stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞—É–¥–∏—Ç–∞
**–ü—Ä–∞–≤–∞:** admin
- –î–µ–π—Å—Ç–≤–∏—è –ø–æ —Ç–∏–ø–∞–º
- –¢–æ–ø –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- –ù–µ–¥–∞–≤–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

#### `POST /export` - –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤
**–ü—Ä–∞–≤–∞:** admin
**–§–æ—Ä–º–∞—Ç—ã:** JSON, CSV

---

## üé® **FRONTEND –ö–û–ú–ü–û–ù–ï–ù–¢–´** (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

### üì± **–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**

#### `/admin/users` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –¢–∞–±–ª–∏—Ü–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –ø–æ–∏—Å–∫–æ–º
- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ú–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

#### `/admin/teams` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–∞–º–∏
- –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- Drag&drop –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–∞–Ω–¥
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–∞–Ω–¥

#### `/admin/audit-logs` - –ê—É–¥–∏—Ç –ª–æ–≥–∏
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫
- –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–µ–π—Å—Ç–≤–∏–π
- –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤
- –ì—Ä–∞—Ñ–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### üß© **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

#### `<UserTable />` - –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –ò–Ω–ª–∞–π–Ω —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π

#### `<TeamCard />` - –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–æ–º–∞–Ω–¥—ã
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∞–Ω–¥–µ
- –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

#### `<RoleSelector />` - –°–µ–ª–µ–∫—Ç–æ—Ä —Ä–æ–ª–µ–π
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∞–≤
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º

---

## üîÑ **–ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° TELEGRAM**

### üì® **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**

#### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```
üë• –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤
üîë –õ–æ–≥–∏–Ω: ivan.petrov
üîê –í—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å: A1B2C3D4
üë§ –†–æ–ª—å: employee

–ü–µ—Ä–µ–¥–∞–π—Ç–µ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É.
```

#### –ü—Ä–∏ —Å–±—Ä–æ—Å–µ –ø–∞—Ä–æ–ª—è:
```
üîê –í–∞—à –ø–∞—Ä–æ–ª—å –±—ã–ª —Å–±—Ä–æ—à–µ–Ω

–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å: X1Y2Z3A4

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Å–º–µ–Ω–∏—Ç—å –µ–≥–æ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É.
```

### ü§ñ **–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∞–¥–º–∏–Ω—É
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ —Å–±—Ä–æ—Å–µ –ø–∞—Ä–æ–ª—è
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –∫ –±–æ—Ç—É

---

## üìä **–ê–£–î–ò–¢ –ò –õ–û–ì–ò–†–û–í–ê–ù–ò–ï**

### üéØ **–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è**

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:
- `create` - —Å–æ–∑–¥–∞–Ω–∏–µ
- `update` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- `deactivate` - –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
- `reset_password` - —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
- `reset_telegram` - —Å–±—Ä–æ—Å Telegram

#### –ö–æ–º–∞–Ω–¥—ã:
- `create` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
- `update` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
- `deactivate` - –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
- `team_add` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–º–∞–Ω–¥—É
- `team_remove` - —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∫–æ–º–∞–Ω–¥—ã
- `update_team_role` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏

#### –°–∏—Å—Ç–µ–º–∞:
- `login` - –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `export` - —ç–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤

### üìà **–ú–µ—Ç—Ä–∏–∫–∏ –∞—É–¥–∏—Ç–∞**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- –¢–æ–ø –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º –¥–µ–π—Å—Ç–≤–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º

---

## üõ†Ô∏è **–£–°–¢–ê–ù–û–í–ö–ê –ò –ù–ê–°–¢–†–û–ô–ö–ê**

### üì¶ **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
```bash
npm install bcrypt crypto
```

### üóÑÔ∏è **–ú–∏–≥—Ä–∞—Ü–∏–∏**
```bash
node scripts/run-migrations.js
```

### üå± **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ**
```bash
node scripts/seed-teams.js
```

### ‚öôÔ∏è **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```env
# –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
TELEGRAM_BOT_TOKEN=your_bot_token
JWT_SECRET=your_jwt_secret

# –ù–æ–≤—ã–µ –¥–ª—è –§–∞–∑—ã 6
DEMO_MODE=false  # –û—Ç–∫–ª—é—á–∞–µ—Ç –æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –¥–µ–º–æ
```

---

## üß™ **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï API**

### üîê **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∞–¥–º–∏–Ω–∞**
```bash
POST /api/auth/login
{
  "username": "admin",
  "password": "admin123"
}
```

### üë• **–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```bash
POST /api/users-management
Authorization: Bearer your_token
{
  "name": "–¢–µ—Å—Ç–æ–≤—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
  "username": "test.user",
  "role": "employee",
  "teams": [1]
}
```

### üè¢ **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã**
```bash
POST /api/teams
Authorization: Bearer your_token
{
  "name": "–ö–æ–º–∞–Ω–¥–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è",
  "description": "–¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞",
  "managerId": 1
}
```

### üìã **–ü—Ä–æ—Å–º–æ—Ç—Ä –∞—É–¥–∏—Ç –ª–æ–≥–æ–≤**
```bash
GET /api/audit-logs?resource=users&limit=10
Authorization: Bearer your_token
```

---

## üéØ **–ö–õ–Æ–ß–ï–í–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò**

### ‚ú® **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- JWT —Ç–æ–∫–µ–Ω—ã —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π bcrypt
- IP –∏ User-Agent –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –î–µ–º–æ —Ä–µ–∂–∏–º –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### üöÄ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### üé® **UX/UI**
- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–µ —Ä–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### üîß **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
- –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π
- –†–∞—Å—à–∏—Ä—è–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–∞–Ω–¥
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- API-first –ø–æ–¥—Ö–æ–¥

---

## üìà **–ú–ï–¢–†–ò–ö–ò –ò –ê–ù–ê–õ–ò–¢–ò–ö–ê**

### üë• **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–æ–ª—è–º
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Telegram
- –î–∏–Ω–∞–º–∏–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π

### üè¢ **–ö–æ–º–∞–Ω–¥—ã**
- –†–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤

### üìä **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**
- –î–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- –ß–∞—Å—Ç–æ—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ü–∏–∫–æ–≤—ã–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- –¢–µ–Ω–¥–µ–Ω—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üîÆ **–ü–õ–ê–ù–´ –†–ê–ó–í–ò–¢–ò–Ø**

### üì± **–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
- React Native –¥–ª—è iOS/Android
- –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### ü§ñ **–ò–ò –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- –ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –£–º–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

### üîó **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**
- Single Sign-On (SSO)
- Active Directory
- Slack, Microsoft Teams
- HR —Å–∏—Å—Ç–µ–º—ã

### üìä **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**
- –î–∞—à–±–æ—Ä–¥—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –æ—Ç—á—ë—Ç—ã
- –≠–∫—Å–ø–æ—Ä—Ç –≤ BI —Å–∏—Å—Ç–µ–º—ã

---

## üéâ **–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï**

–§–∞–∑–∞ 6 –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç TimeBot –∏–∑ –ø—Ä–æ—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã —É—á—ë—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é HR –ø–ª–∞—Ç—Ñ–æ—Ä–º—É —Å:

- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π** –¥–ª—è –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∫–æ–º–ø–∞–Ω–∏–∏
- ‚úÖ **–ì—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –¥–æ—Å—Ç—É–ø–∞** –ø–æ —Ä–æ–ª—è–º –∏ –∫–æ–º–∞–Ω–¥–∞–º  
- ‚úÖ **–ü–æ–ª–Ω–æ–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é** —á–µ—Ä–µ–∑ –∞—É–¥–∏—Ç –ª–æ–≥–∏
- ‚úÖ **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
- ‚úÖ **–ë–µ–∑—à–æ–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π** —Å Telegram –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é! üöÄ 

# üîê –≠—Ç–∞–ø 6: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è initData —Å –ø–æ–¥–ø–∏—Å—å—é

## –û–ø–∏—Å–∞–Ω–∏–µ —ç—Ç–∞–ø–∞
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è `initData` —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π HMAC-SHA256 –ø–æ–¥–ø–∏—Å—å—é –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É Telegram WebApp. –¢–µ–ø–µ—Ä—å mock-—Ä–µ–∂–∏–º –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–º–∏—Ç–∏—Ä—É–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é Telegram.

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. **–§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HMAC-SHA256 –ø–æ–¥–ø–∏—Å–∏**
```js
// admin-panel/src/lib/telegram-mock.js
async function createHmacSha256(key, data) {
  const encoder = new TextEncoder();
  const keyData = encoder.encode(key);
  const messageData = encoder.encode(data);
  
  const cryptoKey = await crypto.subtle.importKey(
    'raw', keyData, { name: 'HMAC', hash: 'SHA-256' }, false, ['sign']
  );
  
  const signature = await crypto.subtle.sign('HMAC', cryptoKey, messageData);
  return Array.from(new Uint8Array(signature))
    .map(b => b.toString(16).padStart(2, '0'))
    .join('');
}
```

### 2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è initData –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É Telegram**
```js
async function generateInitData(user) {
  const BOT_TOKEN = 'mock_bot_token_' + Date.now();
  const auth_date = Math.floor(Date.now() / 1000);
  
  // –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ (—Ñ–æ—Ä–º–∞—Ç Telegram)
  const dataCheckString = [
    `auth_date=${auth_date}`,
    `user=${JSON.stringify({
      id: user.id,
      first_name: user.first_name,
      last_name: user.last_name,
      username: user.username,
      language_code: 'ru',
      is_premium: false,
      allows_write_to_pm: true
    })}`
  ].sort().join('\n');
  
  // –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –∏ –ø–æ–¥–ø–∏—Å—å
  const secretKey = await createHmacSha256('WebAppData', BOT_TOKEN);
  const hash = await createHmacSha256(secretKey, dataCheckString);
  
  // –§–æ—Ä–º–∏—Ä—É–µ–º finitive initData
  const initData = [
    `auth_date=${auth_date}`,
    `hash=${hash}`,
    `user=${encodeURIComponent(JSON.stringify({...}))}`
  ].join('&');
  
  return { initData, initDataUnsafe: {...}, bot_token: BOT_TOKEN };
}
```

### 3. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è mock**
```js
export async function initTelegramMock() {
  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ initData —Å –ø–æ–¥–ø–∏—Å—å—é
  const initDataResult = await generateInitData(mockUser);
  
  window.Telegram = {
    WebApp: {
      initData: initDataResult.initData,
      initDataUnsafe: initDataResult.initDataUnsafe,
      // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π API
    }
  };
}
```

### 4. **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∏ –≤ dev —Ä–µ–∂–∏–º–µ**
–í —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (`/dev/test-telegram`) –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è —Å:
- –î–ª–∏–Ω–æ–π initData (—Å–∏–º–≤–æ–ª–æ–≤)
- –í—Ä–µ–º–µ–Ω–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- Hash –ø–æ–¥–ø–∏—Å–∏
- –ü–æ–ª–Ω—ã–º initData –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

### 5. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
```js
console.group('üîê –î–µ—Ç–∞–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Telegram Mock');
console.log('üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', mockUser);
console.log('üìù initData –¥–ª–∏–Ω–∞:', initDataResult.initData.length, '—Å–∏–º–≤–æ–ª–æ–≤');
console.log('üîë –ü–æ–¥–ø–∏—Å—å (hash):', hash.substring(0, 16) + '...');
console.log('‚è∞ –í—Ä–µ–º—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:', new Date(...).toLocaleString());
console.log('ü§ñ Bot Token (mock):', bot_token.substring(0, 20) + '...');
console.groupEnd();
```

## üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–ø–∏—Å–∏ Telegram WebApp:
1. **–°–æ–∑–¥–∞–µ—Ç—Å—è data check string**: —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ `\n`
2. **–í—ã—á–∏—Å–ª—è–µ—Ç—Å—è secret key**: `HMAC-SHA256('WebAppData', bot_token)`
3. **–ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è data**: `HMAC-SHA256(secret_key, data_check_string)`
4. **–§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è initData**: URL-encoded —Å—Ç—Ä–æ–∫–∞ —Å hash

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ initData:
```
auth_date=1703123456&hash=a1b2c3...&user=%7B%22id%22%3A123...%7D
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- **–ü–æ–ª–Ω–∞—è –∏–º–∏—Ç–∞—Ü–∏—è** —Ä–µ–∞–ª—å–Ω–æ–≥–æ Telegram WebApp
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å—å** –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É Telegram
- **–î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞** –≤ dev —Ä–µ–∂–∏–º–µ
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üîß –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º dev toggle
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ mock —Ñ—É–Ω–∫—Ü–∏–∏ (–∫–Ω–æ–ø–∫–∏, haptic)
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

## üöÄ –ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä:
```bash
cd admin-panel && npm run dev
```

### 2. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```
http://localhost:5176/dev/test-telegram
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:
```
üîê –î–µ—Ç–∞–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Telegram Mock
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {id: 782245481, first_name: "–ú—É—Ö–∞–º–µ–¥", ...}
üìù initData –¥–ª–∏–Ω–∞: 245 —Å–∏–º–≤–æ–ª–æ–≤
üîë –ü–æ–¥–ø–∏—Å—å (hash): a1b2c3d4e5f6g7h8...
‚è∞ –í—Ä–µ–º—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏: 22.12.2024, 15:30:45
ü§ñ Bot Token (mock): mock_bot_token_170312...
```

### 4. –í —Å–µ–∫—Ü–∏–∏ "initData —Å –ø–æ–¥–ø–∏—Å—å—é (DEV)":
- –î–ª–∏–Ω–∞ initData
- –í—Ä–µ–º—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- Hash –ø–æ–¥–ø–∏—Å–∏ (–ø–æ–ª–Ω—ã–π)
- –ü–æ–ª–Ω—ã–π initData
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

## üí° –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞
- –û—Ç–ª–∞–¥–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ initData –Ω–∞ backend
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–µ–π

### –î–ª—è QA —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- –ü–æ–ª–Ω–∞—è –∏–º–∏—Ç–∞—Ü–∏—è production –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–π:
- –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ WebApp
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üîÑ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–æ—à–ª—ã–º–∏ —ç—Ç–∞–ø–∞–º–∏

### –≠—Ç–∞–ø 1-2: Dev Toggle
‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤

### –≠—Ç–∞–ø 3: NotInTelegramNotice
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ initData

### –≠—Ç–∞–ø 4: TelegramAuthStatus
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ initDataUnsafe

### –≠—Ç–∞–ø 5: –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–ø–∏—Å–∏

## üéâ –ò—Ç–æ–≥–∏ —ç—Ç–∞–ø–∞ 6

**–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ**:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è initData —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ–¥–ø–∏—Å—å—é
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–º–∏—Ç–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ Telegram WebApp
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ dev —Ä–µ–∂–∏–º–µ
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π

**–ì–æ—Ç–æ–≤–æ –¥–ª—è**:
- üîß Backend –≤–∞–ª–∏–¥–∞—Ü–∏–∏ initData –ø–æ–¥–ø–∏—Å–µ–π
- üì± Production-–ø–æ–¥–æ–±–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- üéØ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–π —Ä–µ–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- üöÄ –î–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ WebApp —Ñ—É–Ω–∫—Ü–∏–π

HR —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –∏–º–∏—Ç–∞—Ü–∏—é Telegram WebApp —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–æ–¥–ø–∏—Å—è–º–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ dev –æ–ø—ã—Ç–∞! üéä 