<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Test Telegram WebApp</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0;
            padding: 16px;
            background: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            min-height: 100vh;
        }
        
        .card {
            background: #ffffff;
            border-radius: 12px;
            padding: 16px;
            margin: 8px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .card:active {
            transform: scale(0.98);
        }
        
        .card-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .blue { background: #007aff; }
        .green { background: #34c759; }
        .orange { background: #ff9500; }
        
        .text-content h3 {
            margin: 0;
            font-weight: 600;
            color: var(--tg-theme-text-color, #000000);
        }
        
        .text-content p {
            margin: 4px 0 0 0;
            font-size: 14px;
            color: var(--tg-theme-hint-color, #999999);
        }
        
        .header {
            text-align: center;
            margin-bottom: 24px;
        }
        
        .header h1 {
            margin: 0;
            font-size: 24px;
            font-weight: bold;
        }
        
        .header p {
            margin: 8px 0 0 0;
            color: var(--tg-theme-hint-color, #999999);
        }
        
        .status {
            margin-top: 16px;
            padding: 12px;
            background: #f0f0f0;
            border-radius: 8px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéâ –¢–µ—Å—Ç Telegram WebApp</h1>
        <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å HR —Å–∏—Å—Ç–µ–º–æ–π</p>
    </div>

    <div class="card" onclick="showWorkLogForm()">
        <div class="card-content">
            <div class="icon blue">üìù</div>
            <div class="text-content">
                <h3>–°–¥–∞—Ç—å –æ—Ç—á—ë—Ç</h3>
                <p>–†–∞–±–æ—á–∏–π –¥–µ–Ω—å –∑–∞–≤–µ—Ä—à—ë–Ω</p>
            </div>
        </div>
    </div>

    <div class="card" onclick="showStats()">
        <div class="card-content">
            <div class="icon green">üìä</div>
            <div class="text-content">
                <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                <p>–ú–æ–∏ —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã</p>
            </div>
        </div>
    </div>

    <div class="card" onclick="showAbsence()">
        <div class="card-content">
            <div class="icon orange">üèñÔ∏è</div>
            <div class="text-content">
                <h3>–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ</h3>
                <p>–û—Ç–ø—É—Å–∫ –∏–ª–∏ –±–æ–ª—å–Ω–∏—á–Ω—ã–π</p>
            </div>
        </div>
    </div>

    <div class="status" id="status">
        <strong>–°—Ç–∞—Ç—É—Å Telegram WebApp:</strong><br>
        <span id="telegram-status">–ü—Ä–æ–≤–µ—Ä—è–µ–º...</span>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        let tg = window.Telegram.WebApp;
        
        function initTelegramApp() {
            if (tg) {
                tg.ready();
                tg.expand();
                
                // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤
                tg.setHeaderColor('#1f2937');
                tg.setBackgroundColor('#f9fafb');
                
                // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏
                tg.MainButton.hide();
                tg.BackButton.hide();
                
                updateStatus();
                
                console.log('Telegram WebApp –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:', {
                    platform: tg.platform,
                    version: tg.version,
                    colorScheme: tg.colorScheme,
                    user: tg.initDataUnsafe?.user
                });
            }
        }
        
        function updateStatus() {
            const statusEl = document.getElementById('telegram-status');
            
            if (tg && tg.initDataUnsafe?.user) {
                const user = tg.initDataUnsafe.user;
                statusEl.innerHTML = `
                    ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ<br>
                    üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${user.first_name} ${user.last_name || ''}<br>
                    üÜî ID: ${user.id}<br>
                    üì± –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: ${tg.platform}<br>
                    üé® –¢–µ–º–∞: ${tg.colorScheme}
                `;
            } else if (tg) {
                statusEl.innerHTML = `
                    ‚ö†Ô∏è WebApp –∑–∞–ø—É—â–µ–Ω, –Ω–æ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è<br>
                    üì± –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: ${tg.platform || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}<br>
                    üé® –¢–µ–º–∞: ${tg.colorScheme || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}
                `;
            } else {
                statusEl.innerHTML = `
                    ‚ùå Telegram WebApp –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω<br>
                    –û—Ç–∫—Ä–æ–π—Ç–µ –≤ Telegram
                `;
            }
        }
        
        function showWorkLogForm() {
            if (tg?.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
            
            if (tg?.showAlert) {
                tg.showAlert('üìù –§–æ—Ä–º–∞ –æ—Ç—á—ë—Ç–∞ –±—É–¥–µ—Ç –∑–¥–µ—Å—å!\n\n–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.');
            } else {
                alert('üìù –§–æ—Ä–º–∞ –æ—Ç—á—ë—Ç–∞ –±—É–¥–µ—Ç –∑–¥–µ—Å—å!');
            }
        }
        
        function showStats() {
            if (tg?.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
            
            if (tg?.showConfirm) {
                tg.showConfirm('üìä –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ —ç—Ç—É –Ω–µ–¥–µ–ª—é?', (confirmed) => {
                    if (confirmed) {
                        tg.showAlert('üìà 40 —á–∞—Å–æ–≤ –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ\nüìä –£—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å: 98%');
                    }
                });
            } else {
                alert('üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!');
            }
        }
        
        function showAbsence() {
            if (tg?.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('medium');
            }
            
            if (tg?.showAlert) {
                tg.showAlert('üèñÔ∏è –ó–∞—è–≤–∫–∞ –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ\n\n–°–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞!');
            } else {
                alert('üèñÔ∏è –ó–∞—è–≤–∫–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!');
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', initTelegramApp);
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
        setInterval(updateStatus, 2000);
    </script>
</body>
</html> 