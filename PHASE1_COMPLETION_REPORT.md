# üéâ –§–ê–ó–ê 1 –ó–ê–í–ï–†–®–ï–ù–ê: –ë–∞–∑–æ–≤—ã–π —É—á—ë—Ç —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** `$(date +"%Y-%m-%d %H:%M:%S")`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù–£

## üìã –¶–µ–ª—å —Ñ–∞–∑—ã
–î–æ–≤–µ—Å—Ç–∏ –¥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ü–∏–∫–ª: **–ø—Ä–∏—à—ë–ª ‚Üí –æ–±–µ–¥ ‚Üí —É—à—ë–ª ‚Üí –æ—Ç—á—ë—Ç**

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üè† –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è
- ‚úÖ **–ú–µ—Ç–æ–¥ `markLeaving`** - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è
- ‚úÖ **–ü–æ–¥—Å—á—ë—Ç –≤—Ä–µ–º–µ–Ω–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç `totalMinutes` —Å —É—á—ë—Ç–æ–º –æ–±–µ–¥–∞
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –∑–∞–ø–∏—Å—å `leftAt` –∏ `totalMinutes` –≤ –±–∞–∑—É
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Ç—á—ë—Ç–æ–º** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –æ—Ç—á—ë—Ç–∞ –ø–æ—Å–ª–µ —É—Ö–æ–¥–∞

### üìù –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞** - –ø—Ä–∏—ë–º –æ—Ç—á—ë—Ç–∞ —á–µ—Ä–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** - –∑–∞–ø–∏—Å—å –≤ –ø–æ–ª–µ `dailyReport`
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ–π –æ—Ç—á—ë—Ç
- ‚úÖ **–§–∏–∫—Å–∞—Ü–∏—è –ø—Ä–æ–ø—É—Å–∫–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ—Ç–∫–∞ "–û—Ç—á—ë—Ç –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω"

### üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞** - –∫–æ–º–∞–Ω–¥–∞ `/editreport`
- ‚úÖ **–û—Ç–º–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–π** - –∫–æ–º–∞–Ω–¥–∞ `/cancel`
- ‚úÖ **–°–ø—Ä–∞–≤–∫–∞** - –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ `/help`
- ‚úÖ **–ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–µ–¥–µ–ª–∏** - –∫–æ–º–∞–Ω–¥–∞ `/myweek`
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏** - —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üîÑ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí ‚úÖ –ü—Ä–∏—à—ë–ª –≤ –æ—Ñ–∏—Å/—É–¥–∞–ª—ë–Ω–Ω–æ
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí üç± –ù–∞—á–∞–ª –æ–±–µ–¥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí üîô –í–µ—Ä–Ω—É–ª—Å—è —Å –æ–±–µ–¥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí ‚ùå –£—à—ë–ª –¥–æ–º–æ–π
5. –°–∏—Å—Ç–µ–º–∞ ‚Üí üìù –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ—Ç—á—ë—Ç
6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –í–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç –æ—Ç—á—ë—Ç–∞
7. –°–∏—Å—Ç–µ–º–∞ ‚Üí –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Ç–æ–≥–∏ –¥–Ω—è
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:
- ‚úÖ –†–∞—Å—á—ë—Ç —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å –æ–±–µ–¥–æ–º –∏ –±–µ–∑
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –≤ `TimeBot`:
- `markLeaving()` - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è
- `calculateWorkingMinutes()` - –ø–æ–¥—Å—á—ë—Ç –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã
- `handleTextMessage()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- `handleDailyReport()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞
- `handleEditReport()` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞
- `handleEditDailyReport()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–∞
- `handleCancel()` - –æ—Ç–º–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–π
- `sendDaySummary()` - —Å–≤–æ–¥–∫–∞ –¥–Ω—è
- `handleHelp()` - –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞
- `handleMyWeek()` - –ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–µ–¥–µ–ª–∏

### –°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π:
```javascript
this.userStates = new Map();
// –°–æ—Å—Ç–æ—è–Ω–∏—è: 'waiting_report', 'editing_report'
```

## üéØ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

Telegram-–±–æ—Ç —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤—ã–π —Ü–∏–∫–ª —É—á—ë—Ç–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:

1. **–û—Ç–º–µ—Ç–∫–∞ –ø—Ä–∏—Ö–æ–¥–∞** (–æ—Ñ–∏—Å/—É–¥–∞–ª—ë–Ω–∫–∞)
2. **–û—Ç–º–µ—Ç–∫–∞ –æ–±–µ–¥–∞** (–Ω–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü)
3. **–û—Ç–º–µ—Ç–∫–∞ —É—Ö–æ–¥–∞** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º:
   - –ü–æ–¥—Å—á—ë—Ç–æ–º —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
   - –ó–∞–ø—Ä–æ—Å–æ–º –æ—Ç—á—ë—Ç–∞
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
4. **–í–≤–æ–¥ –æ—Ç—á—ë—Ç–∞** —á–µ—Ä–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
5. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –æ—Ç—á—ë—Ç–∞ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–Ω—è

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–∑—ã

–§–∞–∑–∞ 1 —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ—á–Ω—É—é –æ—Å–Ω–æ–≤—É –¥–ª—è:
- –§–∞–∑–∞ 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã
- –§–∞–∑–∞ 3: –ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∏ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç
- –§–∞–∑–∞ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

---

**–§–ê–ó–ê 1 –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù–ê** üéâ 