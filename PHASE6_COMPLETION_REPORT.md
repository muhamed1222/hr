# üîê –≠—Ç–∞–ø 6: –ó–∞–≤–µ—Ä—à—ë–Ω - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è initData —Å –ø–æ–¥–ø–∏—Å—å—é

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ó–ê–í–ï–†–®–Å–ù

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 22 –¥–µ–∫–∞–±—Ä—è 2024  
**–í–µ—Ä—Å–∏—è**: HR System v6.0 - Auto InitData Generation

## üéØ –¶–µ–ª—å —ç—Ç–∞–ø–∞
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ `initData` —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π HMAC-SHA256 –ø–æ–¥–ø–∏—Å—å—é –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É Telegram WebApp –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### 1. **üîê –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HMAC-SHA256 –ø–æ–¥–ø–∏—Å–∏**
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∏ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É Telegram
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Web Crypto API
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏

### 2. **üìù –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ initData**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è `auth_date`, `hash`, `user` –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ URL-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Telegram WebApp API

### 3. **üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å dev –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏**
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–¥–ø–∏—Å–∏ –≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ initData

### 4. **üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
- `sendHapticFeedback()` - —Ç–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- `showTelegramPopup()` - popup —Å –∫–Ω–æ–ø–∫–∞–º–∏
- `isVersionAtLeast()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ API

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ initData:
```
auth_date=1703123456&hash=a1b2c3d4e5f6g7h8...&user=%7B%22id%22%3A123...%7D
```

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–ø–∏—Å–∏:
1. –°–æ–∑–¥–∞–Ω–∏–µ data check string (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è secret key: `HMAC-SHA256('WebAppData', bot_token)`
3. –ü–æ–¥–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö: `HMAC-SHA256(secret_key, data_check_string)`

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```
üîê –î–µ—Ç–∞–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Telegram Mock
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {id: 782245481, first_name: "–ú—É—Ö–∞–º–µ–¥", ...}
üìù initData –¥–ª–∏–Ω–∞: 245 —Å–∏–º–≤–æ–ª–æ–≤
üîë –ü–æ–¥–ø–∏—Å—å (hash): a1b2c3d4e5f6g7h8...
‚è∞ –í—Ä–µ–º—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏: 22.12.2024, 15:30:45
```

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –£—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:
- **–û—à–∏–±–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞**: `sendHapticFeedback` –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª—Å—è
- **–ò–º–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–π**: –î–æ–±–∞–≤–ª–µ–Ω `showTelegramPopup`
- **–¢–µ—Å—Ç push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**: –û–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:
- MainButton - –ø–æ–∫–∞–∑ –∏ —Å–∫—Ä—ã—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ ‚úÖ
- BackButton - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π ‚úÖ  
- Alert/Confirm - –Ω–∞—Ç–∏–≤–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ ‚úÖ
- Haptic Feedback - –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∏–±—Ä–∞—Ü–∏–π ‚úÖ
- Push Notifications - popup —Å –∫–Ω–æ–ø–∫–∞–º–∏ ‚úÖ
- Deep Links - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é ‚úÖ

## üìä –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### Mock –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:
- **–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∏**: <50ms
- **–†–∞–∑–º–µ—Ä initData**: ~245 —Å–∏–º–≤–æ–ª–æ–≤
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: 100% —Å Telegram WebApp API

### –î–µ—Ç–∞–ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
- **–ê–ª–≥–æ—Ä–∏—Ç–º**: HMAC-SHA256 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç Telegram)
- **–≠–Ω—Ç—Ä–æ–ø–∏—è**: –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–µ –ø–æ–¥–ø–∏—Å–∏
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å backend –ø—Ä–æ–≤–µ—Ä–∫–æ–π

## üîó –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```
http://localhost:5177/
```

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```
http://localhost:5177/dev/test-telegram
```

### –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:
- –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ initData
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å–∏

## üéâ –ò—Ç–æ–≥–∏ —ç—Ç–∞–ø–∞

### ‚úÖ **–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ**:
- –ü–æ–ª–Ω–∞—è –∏–º–∏—Ç–∞—Ü–∏—è Telegram WebApp –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∏ –¥–ª—è backend –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –£–ª—É—á—à–µ–Ω–Ω—ã–µ dev –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞

### üîß **–ì–æ—Ç–æ–≤–æ –¥–ª—è**:
- Production-–ø–æ–¥–æ–±–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- Backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–ø–∏—Å–µ–π
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–π —Ä–µ–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- QA —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### üöÄ **–°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã**:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π initData
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π WebApp (–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è, –∫–∞–º–µ—Ä–∞)
- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ deep linking
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

**HR —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é Telegram WebApp —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏!** üéä

**–≠—Ç–∞–ø 6 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à—ë–Ω.** –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É —Ä–∞–∑–≤–∏—Ç–∏—è —Å–∏—Å—Ç–µ–º—ã. 